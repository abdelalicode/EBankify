{
    "openapi": "3.0.1",
    "info": {
      "title": "API",
      "description": "API Documentation",
      "version": "v1"
    },
    "servers": [
      {
        "url": "http://localhost:8080/api/v1",
        "description": "Generated server url"
      }
    ],
    "paths": {
      "/transactions/approve": {
        "put": {
          "tags": [
            "transaction-controller"
          ],
          "operationId": "approveTransaction",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransApproveRequestDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/banks/{id}": {
        "get": {
          "tags": [
            "bank-controller"
          ],
          "operationId": "findById",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Bank"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "bank-controller"
          ],
          "operationId": "updateBank",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bank"
                }
              }
            },
            "required": true
          },
          "responses": {
            "204": {
              "description": "No Content",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Bank"
                  }
                }
              }
            }
          }
        }
      },
      "/bankaccounts/{id}": {
        "get": {
          "tags": [
            "bank-account-controller"
          ],
          "operationId": "findById_1",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/BankAccountDTO"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "bank-account-controller"
          ],
          "operationId": "updateBankAccount",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BankAccountDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/assets/{id}": {
        "get": {
          "tags": [
            "asset-controller"
          ],
          "operationId": "findById_2",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Asset"
                  }
                }
              }
            }
          }
        },
        "put": {
          "tags": [
            "asset-controller"
          ],
          "operationId": "updateAsset",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Asset"
                }
              }
            },
            "required": true
          },
          "responses": {
            "204": {
              "description": "No Content",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Asset"
                  }
                }
              }
            }
          }
        }
      },
      "/users/{id}/update": {
        "post": {
          "tags": [
            "user-controller"
          ],
          "operationId": "updateUser",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "integer",
                "format": "int64"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/transactions": {
        "get": {
          "tags": [
            "transaction-controller"
          ],
          "operationId": "getAllBankAccounts",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "transaction-controller"
          ],
          "operationId": "makeTransaction",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionRequestDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "description": "Created",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/loan/approve": {
        "post": {
          "tags": [
            "loan-app-controller"
          ],
          "operationId": "approve",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApproveLoanDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/LoanApp"
                  }
                }
              }
            }
          }
        }
      },
      "/loan/apply": {
        "post": {
          "tags": [
            "loan-app-controller"
          ],
          "operationId": "apply",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoanApp"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/LoanApp"
                  }
                }
              }
            }
          }
        }
      },
      "/banks": {
        "get": {
          "tags": [
            "bank-controller"
          ],
          "operationId": "getAllBanks",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Bank"
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "bank-controller"
          ],
          "operationId": "createBank",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Bank"
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "description": "Created",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/Bank"
                  }
                }
              }
            }
          }
        }
      },
      "/bankaccounts": {
        "get": {
          "tags": [
            "bank-account-controller"
          ],
          "operationId": "getAllBankAccounts_1",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "bank-account-controller"
          ],
          "operationId": "createBankAccount",
          "parameters": [
            {
              "name": "Authorization",
              "in": "header",
              "required": true,
              "schema": {
                "type": "string"
              }
            }
          ],
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BankAccountDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "description": "Created",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/auth/register": {
        "post": {
          "tags": [
            "authentication-controller"
          ],
          "operationId": "register",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterRequest"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AuthenticationResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/auth/public": {
        "post": {
          "tags": [
            "authentication-controller"
          ],
          "operationId": "publicEndPoint",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "/auth/authenticate": {
        "post": {
          "tags": [
            "authentication-controller"
          ],
          "operationId": "authenticate",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthenticateRequest"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AuthenticationResponse"
                  }
                }
              }
            }
          }
        }
      },
      "/assets": {
        "get": {
          "tags": [
            "asset-controller"
          ],
          "operationId": "getAllAssets",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/Asset"
                    }
                  }
                }
              }
            }
          }
        },
        "post": {
          "tags": [
            "asset-controller"
          ],
          "operationId": "createAsset",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssetDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "201": {
              "description": "Created",
              "content": {
                "application/json": {
                  "schema": {
                    "$ref": "#/components/schemas/AssetResponseDTO"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/signup": {
        "post": {
          "tags": [
            "auth-controller"
          ],
          "operationId": "createUser",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserDTO"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/api/users/login": {
        "post": {
          "tags": [
            "auth-controller"
          ],
          "operationId": "login",
          "requestBody": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginRequest"
                }
              }
            },
            "required": true
          },
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      },
      "/users": {
        "get": {
          "tags": [
            "user-controller"
          ],
          "operationId": "getAllUsers",
          "responses": {
            "200": {
              "description": "OK",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "components": {
      "schemas": {
        "TransApproveRequestDTO": {
          "type": "object",
          "properties": {
            "transactionId": {
              "type": "string"
            },
            "approved": {
              "type": "boolean"
            }
          }
        },
        "Asset": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int32"
            },
            "owner": {
              "$ref": "#/components/schemas/User"
            },
            "assetType": {
              "type": "string",
              "enum": [
                "REAL_ESTATE",
                "VEHICLE",
                "INVESTMENT"
              ]
            },
            "estimatedValue": {
              "type": "number"
            },
            "acquisitionDate": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "Bank": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "name": {
              "type": "string"
            },
            "basicLimit": {
              "type": "number"
            },
            "bankaccounts": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/BankAccount"
              }
            },
            "bic": {
              "type": "string"
            }
          }
        },
        "BankAccount": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "accountNumber": {
              "type": "string"
            },
            "bankAccountType": {
              "type": "string",
              "enum": [
                "Current",
                "Savings",
                "ForeignCurrency",
                "Youth",
                "Joint",
                "Business"
              ]
            },
            "balance": {
              "type": "number"
            },
            "client": {
              "$ref": "#/components/schemas/User"
            },
            "bank": {
              "$ref": "#/components/schemas/Bank"
            },
            "active": {
              "type": "boolean"
            }
          }
        },
        "GrantedAuthority": {
          "type": "object",
          "properties": {
            "authority": {
              "type": "string"
            }
          }
        },
        "Permission": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "name": {
              "type": "string",
              "enum": [
                "MANAGE_USERS",
                "FULL_ACCESS",
                "APPROVE_TRANSACTIONS",
                "VIEW_ALL_ACCOUNTS",
                "MANAGE_OWN_ACCOUNT",
                "VIEW_OWN_ACCOUNT"
              ]
            },
            "roles": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Role"
              }
            }
          }
        },
        "Role": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "name": {
              "type": "string",
              "enum": [
                "CLIENT",
                "ADMIN",
                "EMPLOYEE"
              ]
            },
            "users": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/User"
              }
            },
            "permissions": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Permission"
              }
            },
            "authorities": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/SimpleGrantedAuthority"
              }
            }
          }
        },
        "SimpleGrantedAuthority": {
          "type": "object",
          "properties": {
            "authority": {
              "type": "string"
            }
          }
        },
        "User": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "firstName": {
              "type": "string"
            },
            "lastName": {
              "type": "string"
            },
            "age": {
              "type": "integer",
              "format": "int32"
            },
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            },
            "phone": {
              "type": "string"
            },
            "role": {
              "$ref": "#/components/schemas/Role"
            },
            "bankAccounts": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/BankAccount"
              }
            },
            "assets": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Asset"
              }
            },
            "memberSince": {
              "type": "string",
              "format": "date-time"
            },
            "username": {
              "type": "string"
            },
            "authorities": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/GrantedAuthority"
              }
            },
            "enabled": {
              "type": "boolean"
            },
            "credentialsNonExpired": {
              "type": "boolean"
            },
            "accountNonExpired": {
              "type": "boolean"
            },
            "accountNonLocked": {
              "type": "boolean"
            }
          }
        },
        "BankAccountDTO": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "accountNumber": {
              "type": "string"
            },
            "bankAccountType": {
              "type": "string"
            },
            "balance": {
              "type": "number"
            },
            "ClientLastName": {
              "type": "string"
            },
            "ClientFirstName": {
              "type": "string"
            },
            "isActive": {
              "type": "boolean"
            }
          }
        },
        "UserDTO": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "firstName": {
              "type": "string"
            },
            "lastName": {
              "type": "string"
            },
            "age": {
              "type": "integer",
              "format": "int32"
            },
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            },
            "phone": {
              "type": "string"
            }
          }
        },
        "RecurringDetails": {
          "type": "object",
          "properties": {
            "frequency": {
              "type": "integer",
              "format": "int32"
            },
            "endDate": {
              "type": "string",
              "format": "date-time"
            },
            "recurring": {
              "type": "boolean"
            }
          }
        },
        "TransactionRequestDTO": {
          "required": [
            "amount"
          ],
          "type": "object",
          "properties": {
            "accountNumber": {
              "type": "string"
            },
            "amount": {
              "minimum": 0,
              "exclusiveMinimum": true,
              "type": "number"
            },
            "transactionType": {
              "type": "string",
              "enum": [
                "CLASSIC",
                "INSTANT",
                "PERMANENT"
              ]
            },
            "recurringDetails": {
              "$ref": "#/components/schemas/RecurringDetails"
            }
          }
        },
        "ApproveLoanDTO": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int64"
            },
            "approved": {
              "type": "boolean"
            }
          }
        },
        "LoanApp": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int32"
            },
            "amount": {
              "type": "number"
            },
            "loanType": {
              "type": "string",
              "enum": [
                "PERSONAL",
                "MORTGAGE",
                "AUTO",
                "BUSINESS",
                "STUDENT"
              ]
            },
            "client": {
              "$ref": "#/components/schemas/User"
            },
            "approved": {
              "type": "boolean"
            },
            "approvedBy": {
              "$ref": "#/components/schemas/User"
            },
            "createdAt": {
              "type": "string",
              "format": "date-time"
            },
            "approvedAt": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "RegisterRequest": {
          "type": "object",
          "properties": {
            "firstName": {
              "type": "string"
            },
            "lastName": {
              "type": "string"
            },
            "age": {
              "type": "integer",
              "format": "int32"
            },
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            },
            "phone": {
              "type": "string"
            },
            "role": {
              "$ref": "#/components/schemas/Role"
            }
          }
        },
        "AuthenticationResponse": {
          "type": "object",
          "properties": {
            "token": {
              "type": "string"
            },
            "refresh_token": {
              "type": "string"
            }
          }
        },
        "AuthenticateRequest": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            }
          }
        },
        "AssetDTO": {
          "type": "object",
          "properties": {
            "assetType": {
              "type": "string",
              "enum": [
                "REAL_ESTATE",
                "VEHICLE",
                "INVESTMENT"
              ]
            },
            "estimatedValue": {
              "type": "number"
            },
            "acquisitionDate": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "AssetResponseDTO": {
          "type": "object",
          "properties": {
            "id": {
              "type": "integer",
              "format": "int32"
            },
            "ownerFirstName": {
              "type": "string"
            },
            "ownerLastName": {
              "type": "string"
            },
            "assetType": {
              "type": "string"
            },
            "estimatedValue": {
              "type": "number"
            },
            "acquisitionDate": {
              "type": "string",
              "format": "date-time"
            }
          }
        },
        "LoginRequest": {
          "required": [
            "email",
            "password"
          ],
          "type": "object",
          "properties": {
            "email": {
              "type": "string"
            },
            "password": {
              "type": "string"
            }
          }
        }
      }
    }
  }